---
title: Microsoft 365-interne Protokollierung für Microsoft 365 Engineering
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
description: In diesem Artikel finden Sie eine Erläuterung der Funktionsweise der internen Protokollierung für Microsoft 365-Entwicklungsteams.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: b4c4b1db876a6b68ec852adbbd51afe7386a1855
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/14/2020
ms.locfileid: "46695991"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a><span data-ttu-id="69306-103">Interne Protokollierung für Microsoft 365 Engineering</span><span class="sxs-lookup"><span data-stu-id="69306-103">Internal logging for Microsoft 365 engineering</span></span>

<span data-ttu-id="69306-104">Zusätzlich zu den für Kunden verfügbaren Ereignissen und Protokolldaten gibt es auch ein internes Protokoll Datenerfassungssystem, das Microsoft 365-Ingenieuren bei Microsoft zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="69306-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Microsoft 365 engineers at Microsoft.</span></span> <span data-ttu-id="69306-105">Viele verschiedene Typen von Protokolldaten werden von Microsoft 365-Servern in einen internen, großen Daten Datenverarbeitungsdienst mit dem Namen Cosmos hochgeladen.</span><span class="sxs-lookup"><span data-stu-id="69306-105">Many different types of log data are uploaded from Microsoft 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="69306-106">Jedes Service Team lädt Überwachungsprotokolle von den jeweiligen Servern in die Cosmos-Datenbank für Aggregation und Analyse hoch.</span><span class="sxs-lookup"><span data-stu-id="69306-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="69306-107">Diese Datenübertragung erfolgt über eine FIPS 140-2-validierte TLS-Verbindung auf speziell genehmigten Ports und Protokollen mithilfe eines proprietären Automatisierungstools namens Office Data Loader (ODL).</span><span class="sxs-lookup"><span data-stu-id="69306-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="69306-108">Die in Microsoft 365 zum Erfassen und Verarbeiten von Überwachungsdatensätzen verwendeten Tools ermöglichen keine permanenten oder irreversiblen Änderungen am ursprünglichen Inhalt oder der Zeitreihenfolge des Überwachungseintrags.</span><span class="sxs-lookup"><span data-stu-id="69306-108">The tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="69306-109">Service Teams verwenden Cosmos als zentrales Repository, um eine Analyse der Anwendungsnutzung, zur Messung der System-und Betriebsleistung und zur Ermittlung von Anomalien und Mustern zu suchen, die auf Probleme oder Sicherheitsprobleme hindeuten können.</span><span class="sxs-lookup"><span data-stu-id="69306-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="69306-110">Jedes Dienst Team lädt eine Baseline von Protokollen in Cosmos, je nachdem, was Sie analysieren möchten, die häufig Folgendes umfassen:</span><span class="sxs-lookup"><span data-stu-id="69306-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>

- <span data-ttu-id="69306-111">Ereignisprotokolle</span><span class="sxs-lookup"><span data-stu-id="69306-111">Event logs</span></span>
- <span data-ttu-id="69306-112">AppLocker-Protokolle</span><span class="sxs-lookup"><span data-stu-id="69306-112">AppLocker logs</span></span>
- <span data-ttu-id="69306-113">Leistungsdaten</span><span class="sxs-lookup"><span data-stu-id="69306-113">Performance data</span></span>
- <span data-ttu-id="69306-114">System Center-Daten</span><span class="sxs-lookup"><span data-stu-id="69306-114">System Center data</span></span>
- <span data-ttu-id="69306-115">Anruf Detaildatensätze</span><span class="sxs-lookup"><span data-stu-id="69306-115">Call detail records</span></span>
- <span data-ttu-id="69306-116">Quality of Experience-Daten</span><span class="sxs-lookup"><span data-stu-id="69306-116">Quality of experience data</span></span>
- <span data-ttu-id="69306-117">IIS-Webserverprotokolle</span><span class="sxs-lookup"><span data-stu-id="69306-117">IIS Web Server logs</span></span>
- <span data-ttu-id="69306-118">SQL Server Protokolle</span><span class="sxs-lookup"><span data-stu-id="69306-118">SQL Server logs</span></span>
- <span data-ttu-id="69306-119">Syslog-Daten</span><span class="sxs-lookup"><span data-stu-id="69306-119">Syslog data</span></span>
- <span data-ttu-id="69306-120">Sicherheitsüberwachungsprotokolle</span><span class="sxs-lookup"><span data-stu-id="69306-120">Security audit logs</span></span>

<span data-ttu-id="69306-121">Vor dem Hochladen von Daten in Cosmos verwendet die ODL-Anwendung einen Scrubbing-Dienst, um alle Felder zu verbergen, die Kundendaten enthalten, beispielsweise Mandanteninformationen und benutzerbezogene Informationen, und diese Felder durch einen Hashwert ersetzen.</span><span class="sxs-lookup"><span data-stu-id="69306-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="69306-122">Die anonymisierten und gehashten Protokolle werden umgeschrieben und dann in Cosmos hochgeladen.</span><span class="sxs-lookup"><span data-stu-id="69306-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="69306-123">Dienst Teams führen bereichsbezogene Abfragen mit Ihren Daten in Cosmos für Korrelation, Warnungen und Berichterstellung aus.</span><span class="sxs-lookup"><span data-stu-id="69306-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="69306-124">Der Zeitraum für die Aufbewahrung von Überwachungsprotokolldaten in Cosmos wird von den Service Teams bestimmt. die meisten Überwachungsprotokolldaten werden für 90 Tage oder länger aufbewahrt, um Sicherheitsvorfälle zu unterstützen und behördliche Aufbewahrungsanforderungen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="69306-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="69306-125">Der Zugriff auf Microsoft 365-Daten, die in Cosmos gespeichert sind, ist auf autorisiertes Personal beschränkt.</span><span class="sxs-lookup"><span data-stu-id="69306-125">Access to Microsoft 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="69306-126">Microsoft schränkt die Verwaltung der Überwachungsfunktionen auf die beschränkte Teilmenge der Dienst Teammitglieder ein, die für die Überwachungsfunktionen zuständig sind.</span><span class="sxs-lookup"><span data-stu-id="69306-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="69306-127">Diese Teammitglieder haben nicht die Möglichkeit, Daten aus dem Kosmos zu ändern oder zu löschen, und alle Änderungen an den Protokollierungsmechanismen für Cosmos werden aufgezeichnet und überwacht.</span><span class="sxs-lookup"><span data-stu-id="69306-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="69306-128">Jedes Dienst Team greift zur Analyse auf seine Protokolldaten zu, indem es bestimmte Anwendungen zum Durchführen einer bestimmten Analyse autorisiert.</span><span class="sxs-lookup"><span data-stu-id="69306-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="69306-129">Beispielsweise verwendet das Microsoft 365-Sicherheitsteam Daten aus dem Kosmos über einen proprietären Ereignisprotokoll Parser zum korrelieren, warnen und Generieren von Berichten mit Aktionen für mögliche verdächtige Aktivitäten in der Microsoft 365-Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="69306-129">For example, the Microsoft 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Microsoft 365 production environment.</span></span> <span data-ttu-id="69306-130">Die Berichte aus diesen Daten werden verwendet, um Sicherheitsrisiken zu beheben und die Gesamtleistung des Diensts zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="69306-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="69306-131">Wenn für eine bestimmte Warnung oder einen bestimmten Bericht weitere Untersuchungen erforderlich sind, können Dienstmitarbeiter anfordern, dass die Daten wieder in den Microsoft 365-Dienst importiert werden.</span><span class="sxs-lookup"><span data-stu-id="69306-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Microsoft 365 service.</span></span> <span data-ttu-id="69306-132">Da das spezifische Protokoll, das aus Cosmos importiert wird, verschlüsselt ist und Servicemitarbeiter keinen Zugriff auf Entschlüsselungsschlüssel haben, wird das Zielprotokoll programmgesteuert über einen Entschlüsselungs Dienst übergeben, der bereichsbezogene Ergebnisse an die autorisierten Dienstmitarbeiter zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="69306-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="69306-133">Alle Sicherheitsanfälligkeiten aus dieser Übung werden mithilfe der standardmäßigen Management Kanäle für Sicherheitsvorfälle von Microsoft gemeldet und eskaliert.</span><span class="sxs-lookup"><span data-stu-id="69306-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
